<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz</title>
  <style>
    /* CSS styles for the quiz */
.base-timer {
  position: relative;
  width: 100px;
  height: 100px;
}

.base-timer__svg {
  transform: scaleX(-1);
}

.base-timer__circle {
  fill: none;
  stroke: none;
}

.base-timer__path-elapsed {
  stroke-width: 7px;
  stroke: grey;
}

.base-timer__path-remaining {
  stroke-width: 7px;
  stroke-linecap: round;
  transform: rotate(90deg);
  transform-origin: center;
  transition: 1s linear all;
  fill-rule: nonzero;
  stroke: currentColor;
}

.base-timer__path-remaining.green {
  color: #00FFFF;
}

.base-timer__path-remaining.orange {
  color: orange;
}

.base-timer__path-remaining.red {
  color: red;
}

.base-timer__label {
  position: absolute;
  width: 100px;
  height: 100px;
  top: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}

/* Additional styles for quiz layout */
#quiz-container {
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
}

#answers {
  margin-top: 10px;
}

.answer-button {
  display: block;
  width: 100%;
  padding: 10px;
  margin-bottom: 5px;
  font-size: 16px;
}

#next-button {
  display: block;
  width: 100%;
  padding: 10px;
  margin-top: 20px;
  font-size: 16px;
  cursor: pointer;
}

#next-button:hover {
  background-color: #ddd;
}

  </style>
</head>
<body>
<div id="timer"></div>
<div id="quiz-container">
  <h2 id="question-category"></h2>
  <h3 id="question"></h3>
  <div id="answers">
    <button class="answer-button"></button>
    <button class="answer-button"></button>
    <button class="answer-button"></button>
    <button class="answer-button"></button>
  </div>
  <button id="next-button">Next</button>
</div>

<script>
  const FULL_DASH_ARRAY = 283;
const WARNING_THRESHOLD = 10;
const ALERT_THRESHOLD = 5;

const COLOR_CODES = {
  info: {
    color: "green"
  },
  warning: {
    color: "orange",
    threshold: WARNING_THRESHOLD
  },
  alert: {
    color: "red",
    threshold: ALERT_THRESHOLD
  }
};

const TIME_LIMIT = 10; // Adjust the time limit here
let timePassed = 0;
let timeLeft = TIME_LIMIT;
let timerInterval = null;
let remainingPathColor = COLOR_CODES.info.color;

const quizContainer = document.getElementById('quiz-container');
const questionCategoryElement = document.getElementById('question-category');
const questionElement = document.getElementById('question');
const answersElement = document.getElementById('answers');
const answerButtons = document.querySelectorAll('.answer-button');
const nextButton = document.getElementById('next-button');
const timerElement = document.getElementById('timer');

function initializeTimer() {
  clearInterval(timerInterval);
  timePassed = 0;
  timeLeft = TIME_LIMIT;
  remainingPathColor = COLOR_CODES.info.color;
  document.getElementById("timer").innerHTML = `
    <div class="base-timer">
      <svg class="base-timer__svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <g class="base-timer__circle">
          <circle class="base-timer__path-elapsed" cx="50" cy="50" r="45"></circle>
          <path
            id="base-timer-path-remaining"
            stroke-dasharray="283"
            class="base-timer__path-remaining ${remainingPathColor}"
            d="
              M 50, 50
              m -45, 0
              a 45,45 0 1,0 90,0
              a 45,45 0 1,0 -90,0
            "
          ></path>
        </g>
      </svg>
      <span id="base-timer-label" class="base-timer__label">${formatTime(
        timeLeft
      )}</span>
    </div>
  `;
  startTimer();
}

function startTimer() {
  timerInterval = setInterval(() => {
    timePassed++;
    timeLeft = TIME_LIMIT - timePassed;
    document.getElementById("base-timer-label").innerHTML = formatTime(timeLeft);
    setCircleDasharray();
    setRemainingPathColor(timeLeft);

    if (timeLeft === 0) {
      clearInterval(timerInterval);
      currentQuestionIndex++;
      if (currentQuestionIndex < questions.length) {
        initializeTimer();
        showQuestion(questions[currentQuestionIndex]);
      } else {
        showResults();
      }
    }
  }, 1000);
}

function formatTime(time) {
  const minutes = Math.floor(time / 60);
  let seconds = time % 60;

  if (seconds < 10) {
    seconds = `0${seconds}`;
  }

  return `${minutes}:${seconds}`;
}

function setRemainingPathColor(timeLeft) {
  const { alert, warning, info } = COLOR_CODES;
  if (timeLeft <= alert.threshold) {
    document.getElementById("base-timer-path-remaining").classList.remove(warning.color);
    document.getElementById("base-timer-path-remaining").classList.add(alert.color);
  } else if (timeLeft <= warning.threshold) {
    document.getElementById("base-timer-path-remaining").classList.remove(info.color);
    document.getElementById("base-timer-path-remaining").classList.add(warning.color);
  }
}

function calculateTimeFraction() {
  const rawTimeFraction = timeLeft / TIME_LIMIT;
  return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);
}

function setCircleDasharray() {
  const circleDasharray = `${(calculateTimeFraction() * FULL_DASH_ARRAY).toFixed(0)} 283`;
  document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray", circleDasharray);
}

function handleAnswerClick(selectedAnswer) {
  clearInterval(timerInterval);
  const question = questions[currentQuestionIndex];
  if (selectedAnswer === question.correct_answer) correctAnswers++;
  userAnswers.push(selectedAnswer);
  currentQuestionIndex++;
  if (currentQuestionIndex < questions.length) {
    initializeTimer();
    showQuestion(questions[currentQuestionIndex]);
  } else {
    showResults();
  }
}

function showResults() {
  const score = (correctAnswers / questions.length) * 100;
  quizContainer.innerHTML = `
    <h2>Quiz completed!</h2>
    <p>Your score: ${score.toFixed(2)}%</p>
    <p>Your answers:</p>
    <ul>${userAnswers.map((answer, index) => `<li>Question ${index + 1}: ${answer}</li>`).join('')}</ul>
  `;
}

const questions = [
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question: "What does CPU stand for?",
        correct_answer: "Central Processing Unit",
        incorrect_answers: [
          "Central Process Unit",
          "Computer Personal Unit",
          "Central Processor Unit",
        ],
      },
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question:
          "In the programming language Java, which of these keywords would you put on a variable to make sure it doesn&#039;t get modified?",
        correct_answer: "Final",
        incorrect_answers: ["Static", "Private", "Public"],
      },
      {
        category: "Science: Computers",
        type: "boolean",
        difficulty: "easy",
        question: "The logo for Snapchat is a Bell.",
        correct_answer: "False",
        incorrect_answers: ["True"],
      },
      {
        category: "Science: Computers",
        type: "boolean",
        difficulty: "easy",
        question:
          "Pointers were not used in the original C programming language; they were added later on in C++.",
        correct_answer: "False",
        incorrect_answers: ["True"],
      },
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question:
          "What is the most preferred image format used for logos in the Wikimedia database?",
        correct_answer: ".svg",
        incorrect_answers: [".png", ".jpeg", ".gif"],
      },
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question: "In web design, what does CSS stand for?",
        correct_answer: "Cascading Style Sheet",
        incorrect_answers: [
          "Counter Strike: Source",
          "Corrective Style Sheet",
          "Computer Style Sheet",
        ],
      },
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question:
          "What is the code name for the mobile operating system Android 7.0?",
        correct_answer: "Nougat",
        incorrect_answers: [
          "Ice Cream Sandwich",
          "Jelly Bean",
          "Marshmallow",
        ],
      },
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question: "On Twitter, what is the character limit for a Tweet?",
        correct_answer: "140",
        incorrect_answers: ["120", "160", "100"],
      },
      {
        category: "Science: Computers",
        type: "boolean",
        difficulty: "easy",
        question: "Linux was first created as an alternative to Windows XP.",
        correct_answer: "False",
        incorrect_answers: ["True"],
      },
      {
        category: "Science: Computers",
        type: "multiple",
        difficulty: "easy",
        question:
          "Which programming language shares its name with an island in Indonesia?",
        correct_answer: "Java",
        incorrect_answers: ["Python", "C", "Jakarta"],
      },
    ];

let currentQuestionIndex = 0;
let userAnswers = [];
let correctAnswers = 0;

initializeTimer();
showQuestion(questions[currentQuestionIndex]);

function handleNextButtonClick() {
  clearInterval(timerInterval);
  currentQuestionIndex++;
  if (currentQuestionIndex < questions.length) {
    initializeTimer();
    showQuestion(questions[currentQuestionIndex]);
  } else {
    showResults();
  }
}

nextButton.addEventListener('click', handleNextButtonClick);

function showQuestion(question) {
  questionCategoryElement.textContent = question.category;
  questionElement.textContent = question.question;

  // Clear previous answer buttons
  answersElement.innerHTML = '';

  // Add answer buttons
  if (question.type === "multiple") {
    const allAnswers = [question.correct_answer, ...question.incorrect_answers];
    shuffleArray(allAnswers); // Randomize answer order
    allAnswers.forEach(answer => {
      const button = document.createElement('button');
      button.classList.add('answer-button');
      button.textContent = answer;
      button.addEventListener('click', () => handleAnswerClick(answer));
      answersElement.appendChild(button);
    });
  } else if (question.type === "boolean") {
    const trueButton = document.createElement('button');
    trueButton.classList.add('answer-button');
    trueButton.textContent = "True";
    trueButton.addEventListener('click', () => handleAnswerClick("True"));
    answersElement.appendChild(trueButton);

    const falseButton = document.createElement('button');
    falseButton.classList.add('answer-button');
    falseButton.textContent = "False";
    falseButton.addEventListener('click', () => handleAnswerClick("False"));
    answersElement.appendChild(falseButton);
  }
}

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}
s
</script>

</body>
</html>

</script>

</body>
</html>
